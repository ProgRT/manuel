\RequirePackage{framed}
\RequirePackage{tikz}
\newcounter{exercice}[chapter]
\newcounter{exsection}[exercice]
\newcounter{exsubsection}[exsection]
\newdimen\posquestionwidth
\posquestionwidth=\textwidth

%\newlistof{listofexercices}{exr}{Liste des exercices}
\newenvironment{exercice}[1][]
{\refstepcounter{exercice}\begin{framed}\setlength\parindent{0pt}
	\textbf{Exercice \thechapter.\theexercice\hspace{1em}-\hspace{1em}#1}
	\addcontentsline{exr}{figure}{\protect\numberline{\thechapter.\theexercice}#1}\par
	}
{\end{framed}}

\newcommand{\exsection}[1]{\refstepcounter{exsection}\vskip8pt\par
\textbf{\small \theexsection\space-\space #1}\par\nopagebreak}

\newcommand{\exsubsection}[1]{\refstepcounter{exsubsection}\vskip8pt\par
\textbf{\small \theexsection.\theexsubsection\space\space\space #1}\par\nopagebreak}

\newcommand{\shortanswer}[1][]{\par\hfill \rule{1.5cm}{0.5pt} #1}

\newcommand{\posquestion}[1]{%
	\setlength{\posquestionwidth}{\textwidth}
	\addtolength{\posquestionwidth}{-4cm}

	\par
	\begin{minipage}[T]{\posquestionwidth}
		#1
	\end{minipage}
	\begin{minipage}[T]{2cm}
		\raggedleft
		\tikz{\draw circle[radius=8mm]}
	\end{minipage}%
}

\newenvironment{materiel}
{\exsection{Matériel requis}
\begin{itemize}}
{\end{itemize}}

\newenvironment{procedure}
{\exsection{Procédure}
\begin{enumerate}}
{\end{enumerate}}
